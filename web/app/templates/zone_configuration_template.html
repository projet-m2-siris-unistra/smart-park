{% if changesApplied == True %}
<!-- Changes notification -->
<div data-notification class="bx--inline-notification bx--inline-notification--success" role="alert">
    <div class="bx--inline-notification__details">
        <svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" class="bx--inline-notification__icon" width="20" height="20" viewBox="0 0 20 20" aria-hidden="true"><path d="M10,1c-4.9,0-9,4.1-9,9s4.1,9,9,9s9-4,9-9S15,1,10,1z M8.7,13.5l-3.2-3.2l1-1l2.2,2.2l4.8-4.8l1,1L8.7,13.5z"></path><path fill="none" d="M8.7,13.5l-3.2-3.2l1-1l2.2,2.2l4.8-4.8l1,1L8.7,13.5z" data-icon-path="inner-path" opacity="0"></path></svg>
        <div class="bx--inline-notification__text-wrapper">
            <p class="bx--inline-notification__title">Modifications enregistrées</p>
        </div>
    </div>
    <button data-notification-btn class="bx--inline-notification__close-button" type="button" aria-label="close">
        <svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" class="bx--inline-notification__close-icon" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4z"></path></svg>
    </button>
</div>
{% endif %}


<form class="sp-formular" action="{{ url_for("zones.config", zone_id=zone_id) }}" method="post">
    {{ form.csrf_token }}

    <div class="zone-div">
        <h4>Général</h4>

        <section>

            {{ form.name }}

            {{ form.type }}

            {{ form.color }}

            {{ form.submit }}
            
            {{ form.delete }}

        </section>

    </div>
</form>

<div class="zone-div">

    <a name="spots"></a> 
    <h4>Gérer les places</h4>
    <label for="select-id" class="bx--label">Cliquer sur la zone pour ajouter des places de parking (max. 20)</label>
    <br>
    <div id='map' class="spot-config-map"></div>

    <script type="text/javascript">
        window.spots = {{ spotList | safe }};
        window.polygon = {{ zoneInstance.polygon | tojson }};
        window.tenantCoor = {{ tenantInstance.coordinates }};
        window.color = "{{ zoneInstance.color }}";
        window.zone_id = {{ zone_id }};
    </script>

    <style>
        #zone-show-color {
            height: 20px;
            width: 40px;
            vertical-align: middle;
            background-color: {{ zoneInstance.color }}; 
            border: 1px solid black;
            display: inline-block;
            margin-left: 10px;
        }/**/
    </style>

    <script type="text/javascript" src="/static/js/map_create_map.js"></script>
    <script type="text/javascript" src="/static/js/map_spot_list.js"></script>
    <script type="text/javascript" src="/static/js/map_spot_adding.js"></script>
    <script type="text/javascript" src="/static/js/map_polygon_draw.js"></script>

    <script type="text/javascript" src="/static/js/zone_config.js"></script>

    <br>
   
    <div id="placed-spots">

    </div>
   
    <br>
   
    <div id="validate-spots">
        <a class="bx--btn bx--btn--primary" type="button" href="submit-spots">
            Enregistrer
        </a>
    </div>

</div>