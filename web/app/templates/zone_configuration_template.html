
<div class="zone-div">
    <a name="general"></a> 
    <h4>Général</h4>
    <br>
    <p class="zone-config-field">
        <label>Nom:</label> {{ zoneName }}
        <button class="bx--btn bx--btn--ghost bx--btn--sm zone-modify-button" type="button" onclick="modify_name()">
            modifier
        </button>
    </p>
    <p class="zone-config-field">
        <label>Description:</label> {{ zoneInstance.desc }}
        <button class="bx--btn bx--btn--ghost bx--btn--sm zone-modify-button" type="button" onclick="modify_name()">
            modifier
        </button>
    </p>
    <br>
    <p class="zone-config-field">
        <label>Supprimer la zone:</label>
        <a class="bx--btn bx--btn--danger bx--btn--sm zone-modify-button" type="button" href="{{ url_for("zones.remove", zone_id=zone_id) }}">
            supprimer
        </a>
    </p>
    <div id="validate-general">

    </div>
</div>

<div class="zone-div">

    <a name="spots"></a> 
    <h4>Gérer les places</h4>
    <label for="select-id" class="bx--label">Cliquer sur la zone pour ajouter des places de parking (max. 20)</label>
    <br>
    <div id='map' class="spot-config-map"></div>

    <script type="text/javascript">
        window.spots = {{ spotList | safe }};
        window.polygon = {{ zonePolygon | tojson }};
        window.tenantCoor = {{ tenantCoor }};
        window.color = "{{ zoneColor }}";
        window.zone_id = {{ zone_id }};
    </script>

    <script type="text/javascript" src="/static/js/map_create_map.js"></script>
    <script type="text/javascript" src="/static/js/map_spot_list.js"></script>
    <script type="text/javascript" src="/static/js/map_spot_adding.js"></script>
    <script type="text/javascript" src="/static/js/map_polygon_draw.js"></script>


    <br>
   
    <div id="placed-spots">

    </div>
   
    <br>
   
    <div id="validate-spots">
        <a class="bx--btn bx--btn--primary" type="button" href="submit-spots">
            Enregistrer
        </a>
    </div>

</div>

<script type="text/javascript">
    var modify = false;
    var button = document.createElement('button');
    button.textContent = "Enregistrer";
    button.className = "bx--btn bx--btn--primary";
    button.type = "submit";
    
    function modify_name() {
        if (!modify) {
            modify = true;
            document.getElementById('validate-general').append(button);
        }
    }
</script>